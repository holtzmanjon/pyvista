Installation
============

Versions of pyvista are available through PyPI as astro-pyvista (pyvista is the name of another product!).

We recommend that you create a new virtual environment for pyvista to avoid issues with package
conflicts. If you are working in the Anaconda environment, you should download the YAML conda configuration
file `pyvista.yml <https://github.com/holtzmanjon/pyvista/blob/main/pyvista.yml?raw=true>`_ (right click to download).
Then you can:

.. code-block:: csh

   conda env create -f pyvista.yml
   conda activate pyvista
   pip install astro-pyvista

If you are using Anaconda Navigator, you can use the Environments section on 
the left, then use Import at the bottom and specify the location of the 
pyvista.yml file


Editable installation into Python distribution
-------------------------------------

If you may be editing the code, you can download pyvista from github, and
do an editable install:

.. code-block:: csh

   git clone https://github.com/holtzmanjon/pyvista
   cd pyvista
   pip install -e .

Installation using environment variables
----------------------------------------
As an alternative to using a pip installation, you can define an environment 
variable PYVISTA_DIR that refers to the top level pyvista directory, e.g.

.. code-block:: csh

   setenv PYVISTA_DIR /pathto/pyvista   (csh/tcsh)
   export PYVISTA_DIR=/pathto/pyvista   (bash)

Then add $PYVISTA_DIR/python to your PYTHONPATH. In csh/tcsh:

.. code-block:: csh

   setenv PYTHONPATH $PYVISTA_DIR/python:$PYTHONPATH  
   if ( $?PYTHONPATH ) then
     setenv PYTHONPATH ${PYTHONPATH}:/$PYVISTA_DIR/python
   else
     setenv PYTHONPATH /some/other/path
   endif

In sh/bash:

.. code-block:: bash

   if [ -z $PYTHONPATH  ] ; then 
     export PYTHONPATH=$PYVISTA_DIR/python
   else
     export PYTHONPATH=$PYVISTA_DIR/python:$PYTHONPPATH 
   fi

To keep these definitions across all new sessions, add these to your .cshrc/.tcshrc or
.bashrc/.profile file.

Installation using modules
--------------------------

Alternatively, use a package management system, e.g., modules, to set these
variables when the package is loaded. There is a sample modules file in
$PYVISTA_DIR/etc/modulefile

