Installation
============

Versions of pyvista are available through PyPI as astro-pyvista (pyvista is the name of another product!).

We strongly recommend that you create a new virtual environment for pyvista to avoid issues with package
conflicts. If you are working in the Anaconda environment, you should download the YAML conda configuration
file pyvista.yml

.. code-bock:: csh

conda env create -f pyvista.yml


Coming soon (!) : pip install astro-pyvista

Installation from github

first clone (or fork, if you are interested in contributing)
the project from gihub:

.. code-block:: csh

   git clone https://github.com/holtzmanjon/pyvista

Installation into Python distribution
-------------------------------------

While pyvista does not depend on special versions of other packages, to 
avoid package conflicts, using a Python virtual environment (conda env or pyenv)
is encouraged!

Once downloaded, you can install with the usual

.. code-block:: csh

   python setup.py install

However, if you want to be able to report issues, make requests and easily
get new implementations for development, we recommend an installation that will
allow you to update from the github repository and have changes immediately
available, which can be achieved by using:

.. code-block:: csh

   python setup.py develop

Note that pyvista has several dependencies for different packages
   - numpy
   - scipy
   - astropy
   - bz2
   - pyautogui (for tv: optional but valuable, for keystroke controlled moves in the display)
   - photutils (required for stars)

The setup.py should install these for you.

Installation using environment variables
----------------------------------------
As an alternative to using setup.py, define an environment 
variable PYVISTA_DIR that refers to the top level pyvista directory, e.g.

.. code-block:: csh

   setenv PYVISTA_DIR /pathto/pyvista   (csh/tcsh)
   export PYVISTA_DIR=/pathto/pyvista   (bash)

Then add $PYVISTA_DIR/python to your PYTHONPATH. In csh/tcsh:

.. code-block:: csh

   setenv PYTHONPATH $PYVISTA_DIR/python:$PYTHONPATH  
   if ( $?PYTHONPATH ) then
     setenv PYTHONPATH ${PYTHONPATH}:/$PYVISTA_DIR/python
   else
     setenv PYTHONPATH /some/other/path
   endif

In sh/bash:

.. code-block:: bash

   if [ -z $PYTHONPATH  ] ; then 
     export PYTHONPATH=$PYVISTA_DIR/python
   else
     export PYTHONPATH=$PYVISTA_DIR/python:$PYTHONPPATH 
   fi

To keep these definitions across all new sessions, add these to your .cshrc/.tcshrc or
.bashrc/.profile file.

Installation using modules
--------------------------

Alternatively, use a package management system, e.g., modules, to set these
variables when the package is loaded. There is a sample modules file in
$PYVISTA_DIR/etc/modulefile

